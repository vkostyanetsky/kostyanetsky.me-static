

<!doctype html>
<html lang="ru" class="text-[18px] leading-[1.65]">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <title>Notes</title>

    <meta name="description" content="" />
    
    <!-- RSS -->

    <link rel="alternate" type="application/rss+xml" title="Vlad's Site" href="https://kostyanetsky.me/rss.xml" />

    <!-- Icons -->

    <link rel="icon" href="https://kostyanetsky.me/favicon.ico">
    <link rel="icon" href="https://kostyanetsky.me/assets/icons/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="https://kostyanetsky.me/assets/icons/apple-touch-icon.png">
    <link rel="manifest" href="https://kostyanetsky.me/manifest.webmanifest">    

    <!-- Open Graph -->

    <meta property="og:title" content="Notes"/>
    <meta property="og:description" content=""/>
    <meta property="og:image" content="https://kostyanetsky.me/assets/images/og.jpg">
    <meta property="og:type" content="article"/>
    <meta property="og:url" content= "https://kostyanetsky.me/notes" />    

    <!-- CSS -->
     
    <link rel="stylesheet" href="/assets/css/tailwind.css">
    <link rel="stylesheet" href="/assets/css/site.css">

    <!-- Blog -->

    <script>
        let ctrlLeftUrl     = 'https://kostyanetsky.me/notes/page-2';
        let ctrlRightUrl    = '';
    </script>
    
    <script src="https://kostyanetsky.me/assets/js/hotkeys.js"></script>    

  </head>

  <body class="min-h-screen bg-white text-slate-900">

    <!-- header -->
    <header class="border-b border-slate-200">
        <div class="mx-auto w-full max-w-4xl px-4 py-5">
            <div class="flex flex-wrap items-baseline gap-x-5 gap-y-2">

                <!-- header: main menu -->
                <nav class="flex flex-wrap items-baseline gap-x-5 gap-y-2 text-sm">
                    
                    
                    
                    
                    

                    
                    
                    <a class="inline-block text-[1.25rem] leading-tight mr-4 border-b border-current no-underline transition-opacity hover:opacity-70 text-blue-600" href="https://kostyanetsky.me/">Vlad's Site</a>
                    

                    
                    
                    <a class="inline-block text-[1.25rem] leading-tight mr-4 border-b border-current no-underline transition-opacity hover:opacity-70 text-blue-600" href="https://kostyanetsky.me/projects/">Projects</a>
                    

                    
                    
                    <span class="inline-block text-[1.25rem] leading-tight mr-4 text-black font-medium">Notes</span>
                    
                </nav>

                <!-- header: mirror link & edit link -->
                <div class="ml-auto flex items-center gap-4">
                    
                    
                        <span
                        class="inline-block text-[1.35rem] leading-none text-slate-400"
                        title="Found a typo? Edit me!"
                        aria-disabled="true"
                        >✎</span>
                    
                    

                    
                    
                    <a
                        href="https://kostyanetsky.ru/notes"
                        class="inline-block text-[1rem] leading-tight text-blue-600 border-b border-current no-underline transition-opacity hover:opacity-70"
                        title="RU"
                    >
                        RU
                    </a>
                    
                </div>
            </div>
        </div>
    </header>

    <!-- content -->
    <main
      class="mx-auto w-full max-w-4xl px-4 py-10"
      id="pageMeta"
      data-page="1"
      data-total-notes="20"
      data-total-pages="5"
    >
      <a id="top" class="block scroll-mt-24"></a>

      

    

      <header class="space-y-3">
        <h1 class="text-3xl font-semibold tracking-tight">Notes</h1>
        <p class="max-w-2xl text-slate-700">
          My notes about life, work and other fascinating things around me.
        </p>
      </header>



      <section class="mt-8 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
        <div class="relative w-full sm:w-[420px]">
          <input
            id="search"
            type="search"
            placeholder="Search by title / text / tags…"
            class="w-full rounded-xl border border-slate-200 bg-white px-4 py-2.5 pr-10 text-sm text-slate-900 placeholder:text-slate-400 outline-none transition focus:border-slate-400"
          />
          <svg
            class="pointer-events-none absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m21 21-4.35-4.35m1.35-5.65a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"
            />
          </svg>
        </div>

        <p class="text-sm text-slate-600">
          Shown: <span id="count" class="font-semibold text-slate-900">0</span>
          <span class="text-slate-400">·</span>
          <span id="pageInfo">Page</span>
        </p>
      </section>

      <section class="mt-4 flex flex-wrap gap-2">
      
        <button
          data-chip="all"
          class="chip rounded-full border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs text-slate-900 hover:bg-slate-200"
        >
          All
        </button>

        
        <button
          data-chip="1c"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          1С
        </button>
        
        <button
          data-chip="work"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Work
        </button>
        
        <button
          data-chip="meanwhile"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Meanwhile
        </button>
        
        <button
          data-chip="done"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Done
        </button>
        
        <button
          data-chip="english"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          English
        </button>
        
        <button
          data-chip="obsidian"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Obsidian
        </button>
        
        <button
          data-chip="videogames"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Videogames
        </button>
        
        <button
          data-chip="ai"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          AI
        </button>
        
        <button
          data-chip="code-smell"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Code Smell
        </button>
        
        <button
          data-chip="georgia"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Georgia
        </button>
        
        <button
          data-chip="pgsql"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          PostgreSQL
        </button>
        
        <button
          data-chip="3d"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          3D
        </button>
        
        <button
          data-chip="blog"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Blog
        </button>
        
        <button
          data-chip="typescript"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Typescript
        </button>
        
        <button
          data-chip="bitrix"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Bitrix
        </button>
        
        <button
          data-chip="books"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Books
        </button>
        
        <button
          data-chip="python"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Python
        </button>
        
        <button
          data-chip="javascript"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Javascript
        </button>
        
        <button
          data-chip="mssql"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          MS SQL
        </button>
        
        <button
          data-chip="optimization"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Optimization
        </button>
        
        <button
          data-chip="sport"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Sport
        </button>
        
        <button
          data-chip="webdev"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Webdev
        </button>
        
        <button
          data-chip="workplace"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Workplace
        </button>
        
        <button
          data-chip="family"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Family
        </button>
        
        <button
          data-chip="nodejs"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Node.js
        </button>
        
        <button
          data-chip="powershell"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Powershell
        </button>
        
        <button
          data-chip="bash"
          class="chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50"
        >
          Bash
        </button>
        

      </section>

      <!-- Static notes (SEO + no-JS fallback) -->
      <section id="staticNotes" class="mt-10 space-y-12">
        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/autosummary"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Autosummary
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>8 February 2026</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">AI</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>I started recording all my meetings back in 2020 — at least, that’s what my own <a href="https://kostyanetsky.me/notes/video-recording" target="_blank">notes</a> say. Video is always more accurate than memory, and clicking "Start Recording" in OBS is the cheapest way to not lose some random-but-important detail.</p>
<p>The downsides are obvious, though: you can't quickly grasp the gist of a meeting from a video, searching through it is basically impossible, it eats disk space like it's bulking season, and it's painfully easy to accidentally capture something private. To partially compensate, I used to jot down key points in bullet form during the meeting, and later either throw them into a task tracker or write a mini-summary for myself: who I met with, what we discussed, what decisions we landed on. If I forgot something or missed details, I'd double-check the video.</p>
<p>But this method isn't perfect either. Even a rough outline steals focus from the actual meeting. And some "oh right, that detail matters" moments only reveal themselves when it's already too late.</p>
<p><img alt="Forgot" src="https://kostyanetsky.me/notes/autosummary/forgot.jpeg"/></p>
<p>So I ended up with a better approach: extract the meeting audio from the video, turn it into text (with a neural net), then turn that transcript into a detailed meeting summary (with another neural net). Yes, it's neural nets all the way down.</p>
<p>The easiest way to rip the audio is with <a href="https://www.ffmpeg.org" target="_blank">ffmpeg</a> (a command-line utility for working with audio/video). Here's an example (mono, 16 kHz sampling rate + loudness normalization):</p>
<pre>
ffmpeg.exe -y -i "D:\video.mkv" -vn -ac 1 -ar 16000 -af loudnorm -c:a pcm_s16le "D:\audio.wav"
</pre>
<p>As for speech-to-text: I experimented with <a href="https://alphacephei.com/vosk/" target="_blank">Vosk</a> + <a href="https://github.com/benob/recasepunc" target="_blank">recasepunc</a>, but... Yeah, no. Let's just say I'd rather not relive that experience. Meanwhile <s>Boromir</s> <a href="https://openai.com/index/whisper" target="_blank">Whisper</a> (OpenAI's speech recognition model) installs in the background in about 10 minutes:</p>
<pre>
py -3.10 -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install setuptools wheel
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
pip install openai-whisper
</pre>
<p>Example run:</p>
<pre>
whisper "D:\audio.wav" --model medium --language Russian --output_format txt
</pre>
<p>The result is a plain text transcript you can shove into any chatbot and get a fairly coherent summary. Sure, you still need to proofread it — fix mistakes and hallucinations, rephrase a couple things — but it's still way better than trying to write notes live.</p>
<p>(If you really want, you can wire up an API call or point it at some local model via LM Studio — but for my personal setup I decided: nope, that's already too much engineering for a lazy win)</p>
<p>And that’s basically the whole method. The only thing left is writing a simple script so you don’t have to run two commands manually every time. If you’re on Windows and you can’t be bothered to vibe-code your own script, you can <a href="https://gist.github.com/vkostyanetsky/4f4760097f1b417cc85d71d11662a642" target="_blank">grab mine</a> and tweak it.</p>
<p>The script finds the first .mkv in its folder, runs it through ffmpeg + Whisper, and saves the result back into the same folder. If you use it: note that it runs via <a href="https://developer.nvidia.com/cuda" target="_blank">CUDA</a> (CPU works too, just much slower), and it stores downloaded Whisper models not in the default cache, but inside the current Python virtual environment folder.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/new-ui"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                New Blog's UI
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>17 January 2026</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Blog</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Done</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>Over the New Year holidays I randomly got obsessed and rewrote my blog's UI. I only wanted to add search for my notes — there are a lot of them now, and every so often I need to quickly fish something out of the pile (like "here's that link" to a coworker).</p>
<p>The blog runs on <a href="https://pages.github.com" target="_blank">GitHub Pages</a>, so the options aren’t exactly infinite: either outsource search to Google, or build a static index and ship it to the user's browser so it can grep through it locally. I went with the second route: faster, more controllable, <s>and, yes, an excuse to write code</s>. The first time you search it has to download <a href="https://kostyanetsky.me/notes.json" target="_blank">the index file</a>, but... It's 200 KB. That's basically one medium-sized sigh in 2026 internet terms.</p>
<p>And then, you know how it goes... Scope creep grabbed me by the hoodie. First I couldn't get <a href="https://tachyons.io" target="_blank">Tachyons</a> to play nice with the search input — got annoyed and migrated everything to <a href="https://tailwindcss.com" target="_blank">Tailwind</a> (I'd been meaning to try it anyway, just never had a "good reason", so I invented one). While I was writing the search code, I figured it'd be dumb not to add tags too, because why do the same work twice. Next thing I know I "wake up" and there's a whole tag cloud sitting above my notes. At that point it felt only logical to do the same for the projects page — except there it's not tags, it's tech stacks...</p>
<p>So yeah, it turned into that "Fear and Loathing in Las Vegas" meme. The tendency was to push it as far as I can, kinda.</p>
<p>Now the only thing left is to make myself actually write into the new project log. There's always a ton of work, and it's genuinely interesting — but if I don't write things down... Welp. Everything sinks into coffee.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/backup-ui"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Backup Management
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>6 December 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Done</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>At the end of the year we shipped a big update to our internal tool (I briefly <a href="https://kostyanetsky.me/notes/easter-eggs" target="_blank">wrote</a> about it before). The goal: give teammates sane, usable access to backups of customer apps. In a SaaS company, everyone needs backups all the time — dev, QA, incident investigations, you name it. Without proper tracking the whole thing turns into a petting zoo: three people, same moment, three requests for almost identical copies of the same database. Sure, it "works", but you end up chewing through 3x the resources for zero extra value.</p>
<p>We did have a solution built on top of the Bitrix UI, but due to, uh... the unique "evolutionary path" of that product, it delivered more pain than gain. So we rethought the workflow and rewrote everything. Frontend is 1C; backend is PostgREST, PostgreSQL, PowerShell, and a bunch of other bits and bobs. The internal logic is fairly gnarly, but for the user it's a clean, friendly UI where you can request a backup in literally two clicks.</p>
<p>You can pick one of three backup types:</p>
<ul>
<li>Cloud backup (a copy of the real app deployed in the cloud and accessible — including via the browser);</li>
<li>File backup (a regular .dt file you can download and spin up locally);</li>
<li>Configuration + extensions backup (.cf + .cfe).</li>
</ul>
<p>Also, the new solution detects when someone tries to request a backup for an app that's already being generated right now. And it rate-limits things too: you can't back up the same app more than once per hour.</p>
<p>And yes — we're still sneaking jokes into the UI. Obviously.</p>
<p><img alt="But Still!" src="https://kostyanetsky.me/notes/backup-ui/but-still.png"/></p>
<p><img alt="Coffee First!" src="https://kostyanetsky.me/notes/backup-ui/coffee-first.png"/></p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/desire-paths"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Desire Paths
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>29 November 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Optimization</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>Alright, Jean Fresco's riddle. You've got a table — say, ~50k rows. How do you end up reading half a billion?</p>
<p>Easy-peasy: Nested Loops + Clustered Index Seek:</p>
<p><img alt="Half a billion" src="https://kostyanetsky.me/notes/desire-paths/500_million.png"/></p>
<p>Clustered Index Seek is a bit of a marketing name here, of course. In reality, on every execution the operator walks the entire table (the whole clustered index) and checks every row against the predicates. And it does that 10 730 times for 51 391 rows. Result: 551 425 430 rows read, 13 343 returned.</p>
<p><img alt="Ouch" src="https://kostyanetsky.me/notes/desire-paths/ouch.gif"/></p>
<p>So yeah — a perfect textbook example of a horrible query plan in a vacuum. Put it in a museum. Nested Loops, if you've forgotten, works roughly like this:</p>
<pre>
For Each Table1Row In Table1 Do
    For Each Table2Row In Table2 Do
        ...
</pre>
<p>That's fine for small tables, but the DB can also pick it for bigger ones — for example, if it runs out of time to build a proper plan.</p>
<p>That's exactly what happened here. Zooming out to the platform level: we've got a dynamic list that queries a documents table, and the devs bolted on like a dozen virtual tables from accumulation registers.</p>
<p>Some of those registers were huge on their own, and the virtual tables poured gasoline on the fire (each one turns into 2+ nested queries). The DB honestly tried to come up with an efficient strategy, but at some point it basically decided: "a garbage plan is still better than no plan at all".</p>
<p>And the user? They tried to search a document by number — and the client app just straight-up froze.</p>
<p>So, about virtual tables in dynamic lists. There's a nice English phrase: "desire path" — the trail people naturally carve because it's the easiest way. Slapping a virtual table onto the main one really is often the simplest, fastest, most familiar way to solve the task. But it's <strong>not efficient</strong>.</p>
<p>There's an alternative, for example the <code>OnGetDataAtServer()</code> handler. It takes longer to implement, but it lets you properly tune the virtual table and avoid the scenario above. Scrolling the list will produce more queries, sure — but they'll be smaller, faster, and way more efficient than one single giant monster query.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/obsidian-foodiary-bases"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Food Diary In Obsidian Bases
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>23 November 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Done</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Obsidian</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>I've rebuilt last year’s <a href="https://kostyanetsky.me/notes/obsidian-foodiary" target="_blank">plugin</a> with <a href="https://help.obsidian.md/bases" target="_blank">Obsidian Bases</a> — it now tracks calories, protein, fat, and carbs in your food.</p>
<p>The result is way more flexible and customizable than the plugin version: if you suddenly decide you want to count fiber as well or just shuffle some columns in the report, you don't have to rewrite, rebuild, or release anything. You just tweak it to your heart's content.</p>
<p>And it doesn't look half bad either:</p>
<p><img alt="UI" src="https://kostyanetsky.me/notes/obsidian-foodiary-bases/base.png"/></p>
<p>All the necessary settings and scripts live in the <a href="https://github.com/vkostyanetsky/ObsidianFoodiaryBases" target="_blank">GitHub repo</a>.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/well-there-are-some"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Well, There Are Some
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>17 November 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Meanwhile</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>I'm out for a walk in the evening, and behind me there's some mom and her little kid — about five years old, I guess. I don't see them, I just hear them talking. The mom is explaining university to the kid: that you have to get in, study, there will be exams and all that.</p>
<p>The boy is quiet for a bit, then says sadly:</p>
<p>— I thought there was only school, but it turns out there are more difficulties too...</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/harmless-harm"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Harmless Harm
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>16 November 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">PostgreSQL</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">MS SQL</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>The other day my colleague and I were debugging an issue, nothing fancy, just another "why is this query behaving weird?" moment.</p>
<p>Simplified, the idea was: we read a table from the database and dump the result into a temp table. If a certain condition is met, we still want the temp table to be created, but it must be empty (regardless of whether the source table has rows or not).</p>
<p>The query looked roughly like this:</p>
<pre>
SELECT
    Table.Field1 AS Field1
FROM
    Table AS Table
WHERE 
    &amp;Parameter
</pre>
<p>If we needed to copy rows from the source table into the temp table, we passed TRUE into the parameter; if we wanted the temp table to be empty, we passed FALSE.</p>
<p>Looks simple at first glance, but this trick is a silent performance foot-gun if the table being read is large.</p>
<p>The reason is how DB engines work with parameterized queries. Both MS SQL and PostgreSQL build the execution plan based on the query text, and in this example the parameter value does <strong>not</strong> affect the decision of whether the table should be read or not.</p>
<p>As a result, when this query runs, both engines will pedantically scan the whole table (or its index), even if the parameter is FALSE. In that case each row is just discarded, so the logic is technically correct, but we're wasting resources on a pointless scan and polluting the buffer cache, slowing down the system overall and diligently contributing to global warming :)</p>
<p>The fix is simple: inline TRUE/FALSE in the query body as a constant instead of using a parameter. Or use TOP so the query text is even simpler:</p>
<pre>
SELECT TOP 0
    Table.Field1 AS Field1
FROM
    Table AS Table
</pre>
<p>At the SQL level this turns into something like "SELECT TOP 0 ... FROM Table" for MS SQL and "SELECT ... FROM Table LIMIT 0" for PostgreSQL. The final plan will still contain a read operator, but the executor won't actually request any rows, so there's no real data scan (yay).</p>
<p>P.S. If you don't care about having proper column types in the temp table, you can even do this:</p>
<pre>
SELECT TOP 0
    UNDEFINED AS Field1
</pre>
<p>The performance gain, however, is so tiny that it's probably not worth over-optimizing for this. There are better hills to die on.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/voodoo"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Voodoo
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>5 October 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>Looks like we finally caught our first lab-reproducible case of platform cache corruption. Short synopsis:</p>
<ul>
<li>Spin up a fresh app from the v35 template of <a href="https://firstbit.ae" target="_blank">our ERP</a>.</li>
<li>Run it and wait for initialization to finish.</li>
<li>Swap the app configuration to the v36 release (specifically build 28537 from the dev repo) and run it again.</li>
</ul>
<p>After this super simple sequence, about half the team sees the platform suddenly lose one of the enums. And it's annoyingly selective: hit an enum value on the client — all good; do the same on the server — boom, exception.</p>
<p>Same story with the manager module of one catalog: its methods exist and are exported, but after the update the platform pretends they don't and throw an exception when you call them.</p>
<p><a href="https://x.com/EffinBirds/status/1970264357427704080" target="_blank"><img alt="Welcome To Dipshit Central" src="https://kostyanetsky.me/notes/voodoo/welcome.jpg"/></a></p>
<p>As always, when the magic blooms — look at the cache. Clear it and symptoms vanish. There are indirect hints too:</p>
<ul>
<li>The enum did exist in v35, but it was renamed in v36.</li>
<li>Those manager-module methods didn't exist in v35 (they were added in v36).</li>
</ul>
<p>So the v35 cache didn't contain either of these in their v36 identities, yet for some reason the platform insists on digging into that old cache.</p>
<p>We still don't have a clean root cause. We traced it to a specific commit after which the bug started showing up, but the only weird thing there its <a href="https://kostyanetsky.me/notes/voodoo/the-commit.png" target="_blank">its name</a> (and honestly, there are nearby commits that look even <a href="https://kostyanetsky.me/notes/voodoo/the-other-commit.png" target="_blank">more suspicious</a> from this point of view). The rest were <a href="https://kostyanetsky.me/notes/voodoo/5ba6ac0956e0cc7bc6b520e5110420e6950478fe.diff" target="_blank">minor changes</a> that regenerate internal metadata IDs in the manifest. Yes, those IDs are tied to cache keys, but they get bumped on any metadata change and have never caused issues before.</p>
<p>If you landed here from Google because you hit the same mess — make a no-op change to the problematic object so the platform refreshes the metadata IDs in the manifest. For example, add an empty method or even just a space in the module. That fixes the configuration so the recipe at the top stops corrupting the cache.</p>
<p>Voodoo, sure — but hey, it works ¯\_(ツ)_/¯</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/data-history-missing-indexes"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Slow Removal of Fresh Areas
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>3 August 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>A colleague noticed that on one of our Fresh instances, deleting data areas had become painfully slow. Dug into the metrics:</p>
<pre>
DELETE FROM T1
FROM _DataHistoryMetadata T1
WHERE 
    T1._MetadataId = ?
    AND T1._IsActual = 0x00 
    AND NOT (
        T1._MetadataVersionNumber IN (
            SELECT T2._MetadataVersionNumber AS MetadataVersionNumber_
            FROM _DataHistoryVersions T2
            WHERE T2._HistoryDataId IN (
                SELECT DataHistoryLatestVersions1.DataHistoryLatestVersions._HistoryDataId AS HistoryDataId_
                FROM DataHistoryLatestVersions1.DataHistoryLatestVersions T3
                WHERE DataHistoryLatestVersions1.DataHistoryLatestVersions._MetadataId = ?
            )
        )
    )
</pre>
<p>Each of these queries was reading around 20GB. What's happening is mostly clear: the platform is trying to delete an area's data history, but the janky DB query causes a full scan over the whole history table across all areas instead of using an index. Someone on Dmitrovskaya got lazy again.</p>
<p><a href="https://x.com/EffinBirds/status/1945545263407301033" target="_blank"><img alt="Why are you surpised?" src="https://kostyanetsky.me/notes/data-history-missing-indexes/why.png"/></a></p>
<p>So we were losing between 30 seconds and a half an hour per operation. Wanted it faster. Fix:</p>
<pre>
CREATE NONCLUSTERED INDEX IX_DataHistoryLatestVersions1_MetadataId
  ON dbo._DataHistoryLatestVersions1 (_MetadataId)
  INCLUDE (_HistoryDataId)
  WITH (DROP_EXISTING = OFF, ONLINE = OFF);

CREATE NONCLUSTERED INDEX IX_DataHistoryVersions_MetadataVersionNumber
  ON dbo._DataHistoryVersions (_MetadataVersionNumber)
  WITH (DROP_EXISTING = OFF, ONLINE = OFF);
</pre>
<p>Deletion cost predictably dropped ~99%.</p>
<p>If you're going to repeat this on your side:</p>
<ol>
<li>Technically this violates the license agreement, you've been warned and all that.</li>
<li>There's a risk the platform will trip over the new indexes during future restructurings (especially on the "new" schema). Better to have a ready script to drop the index, and then (after restructuring) put it back.</li>
</ol>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/myth-buster"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Myth Buster
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>27 Jule 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>I stumbled upon a hefty Infostart <a href="https://infostart.ru/1c/articles/2434171/" target="_blank">article</a> all about "debunking myths" around the platform.</p>
<p>Honestly, about half of it reads like a joke. It's like:</p>
<blockquote>
<p>Hot off the press! Crime, intrigue, investigations! File‑based infobase is faster than client-server! DCS is slower than a plain request! Calling a server method on the server counts as a brand-new server call! <s>UFO over Red Square!</s></p>
</blockquote>
<p>Still, there are some genuinely interesting nuggets! For instance, I'd never heard the claim that cramming your code into one single line makes it run ten times faster. Too bad you'd get your ass handed to you by the team for trying that kind of desperate swag before you even get to celebrate the speed boost. And let's be real — most enterprise app slowdowns usually come from totally different places.</p>
<p>Or take their speed comparison for dumping data into a table: one test for object presentations and another for their descriptions. The presentation dump was literally tens of times slower! On paper, that sounds weird — both are just strings already pulled from the database at measurement time. My guess is it's down to typing: presentation strings can be unlimited length, unlike descriptions. So you get extra memory allocations, helper structures popping up, and bam — that's where the slowdown creeps in.</p>
<p>P.S. I've jotted down some of these points myself before. Off the top of my head — I remember <a href="https://kostyanetsky.me/notes/is-ref-empty" target="_blank">benchmarking</a> <code>ValueIsFilled()</code> and getting a nasty <a href="https://kostyanetsky.me/notes/method-with-surprise" target="_blank">surprise</a> from the built‑in <code>FindByNumber()</code>.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/delete-geometry"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Geometry Deletion
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>12 June 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">3D</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>I figured out a cool trick for cutting off parts of an object when it intersects with something else. Like, in this gif, there’s a monkey head model in the center, and as a plane moves through it, the part that intersects just disappears.</p>
<p><img alt="Demo" src="https://kostyanetsky.me/notes/delete-geometry/demo.gif"/></p>
<p><a href="https://github.com/vkostyanetsky/3DPlayground/blob/main/Geometry%20Nodes/DeleteGeometry.blend" target="_blank">The idea</a> is pretty simple: you shrink the geometry of the "cutter" object down to a cube, get its min and max coordinates along each axis, and then for every point on the object you're trimming, you check whether it falls within that range. If it does — boom, it gets deleted.</p>
<p>There are tons of ways you could use this. For example, I used it to automatically trim parts of decorative music staff lines on a wall so they wouldn't go across a doorway.</p>
<p><img alt="Example" src="https://kostyanetsky.me/notes/delete-geometry/case.jpg"/></p>
<p>Sure, you could do it by hand, without geometry nodes, but that would kill flexibility. If the wall size, door size, or the angle of the lines changes — you'd have to redo everything from scratch.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/no"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                No
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>11 June 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p><img alt="No" src="https://kostyanetsky.me/notes/no/no.jpg"/></p>
<p>This is the message the current platform throws up when you try to connect to an offline server cluster. I do appreciate minimalism in interfaces, of course, but this is definitely over the top.</p>
<p>What's more, the platform is installed with only a single language pack (English) and even launched with a hard override to "Ven VLen", yet somehow the native birches still manage to sprout up. Maybe the C++ library that fires off the message (DataExchangeTcpClientImpl.cpp) is looking at the OS language (Russian) in my case — hard to say.</p>
<p>Anyway, I can't shake the Bugs Bunny vibes every time I see that dialog box.</p>
<p><img alt="No" src="https://kostyanetsky.me/notes/no/bugs-bunny.png"/></p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/hottabych"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                The Genie Problem
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>12 April 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">3D</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <blockquote>
<p>Returning to Volka's room, the old man turned round slyly, snapped the fingers of his left hand, and there appeared on the wall over the aquarium an exact copy of the telephone hanging in the hall.</p>
<p>"Now you can talk to your friends as much as you like without leaving your
own room."</p>
<p>"Golly, thanks a lot!" Volka said gratefully. He removed the receiver, pressed it to his ear and listened. There was no dial tone.</p>
<p>"Hello! Hello!" he shouted. He shook the receiver and then blew into it. Still, there was no dial tone.</p>
<p>"The phone's broken," he explained to Hottabych. "Let's unscrew the receiver and see what's wrong."</p>
<p>However, despite all his efforts, he could not unscrew it.</p>
<p>"It's made of the finest black marble," Hottabych boasted.</p>
<p>"Then there's nothing inside?" Volka asked disappointedly.</p>
<p>"Why, is there supposed to be something inside this, too? Just like in a watch?"</p>
<p>"Now I know why it doesn't work. You've only made a model of a telephone, without anything that's supposed to go inside it. But the insides are the most important part."</p>
<p><em>"The Old Genie Hottabych", Lazar Lagin</em></p>
</blockquote>
<p>When I’m doing 3D modeling, I often feel like that genie. He also tried to mimic the shape of things and jazz them up, but always ended up failing ‘cause he hadn’t got a clue about what was inside.</p>
<p>I’m just the same. For the past month, I’ve been putting the finishing touches on a model of a school music room, and guess what? I’ve learned more about how pianos work than I have in my whole life before. I could even give a quick lecture on heating systems in Russian schools — talking about sectional, panel, cast iron, and aluminum radiators, which types pop up most, the spacing between them, why you shouldn’t hook up three in a row, and so on.</p>
<p>I read about this effect: like when you're drawing, say, samurai armor — you end up inadvertently learning heaps about the properties of leather, the different kinds of metal, and the whole tech stack of the samurai era. I never thought I'd run into that from day one — but hey, I think it's a good thing. It fires up your neural connections, broadens your view of the world, sparks your creativity, and all that jazz.</p>
<p>Plus, it’s way more fun working on a model when you actually know what’s going on under the hood.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/easter-eggs"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Easter Eggs
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>6 April 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p><img alt="Thank you, Mario!" src="https://kostyanetsky.me/notes/easter-eggs/mario.jpg"/></p>
<p><img alt="Awaiting Signal" src="https://kostyanetsky.me/notes/easter-eggs/mothership.jpg"/></p>
<p>A couple of Easter eggs hidden inside FirstBit ERP. They're tucked away for the developers: in the first case, users see just the form title and notification text, while in the second, they see the standard "waiting for connection" message.</p>
<p>I like to add little things like this from time to time — it helps to keep things fun, even when the task isn’t the most exciting or I’m just feeling tired. If you haven’t checked out Bystronovsky’s "<a href="https://collab.ldwg.ru/stressless-design" target="_blank">Design Without Stress</a>", you really should — no way I could explain it better myself.</p>
<p>By the way, here’s another Easter egg! Not from our ERP this time, but from a new tool we’re making for automated database updates. We're building it just for ourselves, so we can joke around with the user a bit :)</p>
<p><img alt="Nice try, Marty!" src="https://kostyanetsky.me/notes/easter-eggs/marty.jpg"/></p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/across-meeting"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                ERP Development In English
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>19 January 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">English</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/mZwHTbu285A" width="560"></iframe>
<p>Our lead developer recently shared some insights about our work — specifically, developing ERP systems on 1C for the UAE and, more recently, Saudi Arabia. The session was hosted by the online English school Across, so the audience was spot-on: Russian-speaking folks interested in building careers and exploring international markets.</p>
<p>Overall, it turned out pretty cool, especially as a language practice. Just a reminder: learning foreign languages is still one of the best ways to give your brain a workout, and it’s also super accessible. There’s no shortage of resources, communities, and interest-based clubs out there — you just need the motivation :)</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/safe-code"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Mysterious Code
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>18 January 2025</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Georgia</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Videogames</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p><img alt="Code" src="https://kostyanetsky.me/notes/safe-code/code.jpg"/></p>
<p>Somewhere on the streets of Tbilisi. As a big fan of the Dishonored series, I just couldn’t walk past this. I’m sure there’s a safe nearby that this code unlocks!</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/negativity"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Go Away, Negativity!
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>29 December 2024</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Georgia</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Meanwhile</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p><img alt="Chichilaki" src="https://kostyanetsky.me/notes/negativity/chichilaki.jpg"/></p>
<p>The white things in the background are called chichilaki. It’s a kind of Georgian New Year tree (in practice, it’s finely shaved hazelnut branches). It’s believed to absorb all the accumulated negativity, so after the holidays, it’s supposed to be burned (along with the negativity).</p>
<p>Turns out, that last part is a bit of a challenge. The local police (and especially the fire department) view this good old tradition with suspicion — and understandably so (a chichilaki can be as tall as a person, making it quite the torch). So, we were advised to simply toss the "negativity-charged" chichilaki into the trash to avoid getting fresh troubles. Or donate it to the zoo — apparently, the animals play with them and even use them to clean their teeth.</p>
<p>That last part made me smile. Getting rid of negativity with the help of cats — what a surprise. Big, toothy cats, sure, but still cats!</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/bit-of-surgery"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                A Little Bit Of Surgery
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>17 December 2024</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">1С</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Work</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>A few years ago, I stumbled upon a story about a programmer who had to debug software controlling a surgical robot — right in the middle of an operation. That blew my mind, to be frank.</p>
<p>Today, my colleague and I were fixing a 1C cluster with databases running on 1cFresh. After migrating it to a neighboring server, the thing suddenly started acting up. Long story short: trying to print a document would send the client app into its death throes.  </p>
<p>While we were knee-deep in troubleshooting, I had this thought: sure, it doesn’t look as terrifying as debugging software that someone’s life literally depends on. But if you think about all the clients sitting on edge because their business is grinding to a halt... Well, who knows where the stress levels are higher?  </p>
<p>P.S. Nerdy details for the curious. During the migration, the permissions for the server cache folder didn’t transfer properly. This led to a funny (well, not so funny) effect: the logs would happily land there, but session data wouldn’t.  </p>
<p>So, when someone opened a print form, the configuration tried saving it to the storage, and rphost, in turn, attempted to shove it into the session cache. Here’s where things went sideways: the worker' process (probably) got slapped on the wrist by the OS. Due to (apparently) some funky file system event handling in the platform, the exception wasn’t caught, so the poor thing had no better idea than to kill the session. Naturally, this caused the client process to crash.  </p>
<p>We fixed the permissions, rebooted the cluster, and voilà! The problem was gone.  </p>
<p><img alt="End of Report" src="https://kostyanetsky.me/notes/bit-of-surgery/report.jpeg"/></p>
<p>All other hypotheses — cluster manager acting up, lack of hardware resources, configuration bugs, client-side issues, broken security profiles, network problems between the client and server — got tossed out during the diagnostics process.</p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/vaporia"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Vaguely Familiar Logo
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>14 December 2024</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">AI</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Georgia</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p><del>Meanwhile, OpenAI opened a branch in Tbilisi</del> Actually, they just sell vapes here, and the logo designer was probably inspired by clouds of steam. But every time I walk by, it still catches my eye :)</p>
<p><img alt="Vaporia" src="https://kostyanetsky.me/notes/vaporia/vaporia.jpg"/></p>
            </div>
          </div>
          
        </article>


        
            

        <article class="rounded-2xl bg-white">

          <header class="space-y-2">

                        
            <header class="space-y-2">
            <a href="https://kostyanetsky.me/notes/creepy-graveyard"
                class="inline text-2xl font-semibold tracking-tight hover:underline">
                Creepy Graveyard
            </a>
            </header>
            

            <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-slate-600">
              <span>26 November 2024</span>
              
                <span class="text-slate-300">·</span>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">3D</span>
                </div>
                
                <div class="flex flex-wrap gap-2">
                    <span class="inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-xs text-slate-700">Done</span>
                </div>
                
              
            </div>

          </header>

          <div class="mt-5">
            <div class="prose-like">
              <p>Still learning 3D in my free time. Here's my first somewhat independent project after finishing a <a href="https://www.udemy.com/course/blender-environments-megacourse-create-3d-environments/" target="_blank">course</a> recently.</p>
<p><a href="https://kostyanetsky.me/notes/creepy-graveyard/creepy-graveyard.png" target="_blank"><img alt="Creepy Graveyard" src="https://kostyanetsky.me/notes/creepy-graveyard/creepy-graveyard.png"/></a></p>
<iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/mraGFR_Tr5k" width="560"></iframe>
<p>Of course, there are plenty of issues: the models, the colors, the composition... Honestly, pretty much everything. Good thing the scene is set at night with fog, so it's easy to hide the worst spots. I wouldn't be surprised if the course creators picked this setting on purpose to keep beginners from getting too discouraged :)</p>
<p>That said, I'm happy with the result. At this stage, perfectionism feels more like an enemy than a friend. And hey, it’s definitely better than my last attempt! Back then, I was totally green in Blender and scared to deviate even slightly from the instructor: ten minutes of watching, ten minutes of copying.</p>
<p>That approach works at the very beginning, but it doesn't help you learn how to solve problems. This time, I watched a few lessons back-to-back for about an hour or two, then tried to figure things out on my own. I only went back to the videos when I was completely stuck. Feels like I’m actually retaining a lot more this way.</p>
<p>Long story short, the thing is done. On to the next one!</p>
<p>UPD: One of the founders of FlippedNormals recorded a <a href="https://www.youtube.com/watch?v=izkRFqBzya0" target="_blank">video</a> with the same thoughts about training.</p>
            </div>
          </div>
          
        </article>


        
      </section>

      <section id="dynamicNotes" class="mt-10 hidden space-y-12"></section>

      <div
        id="empty"
        class="mt-8 hidden rounded-2xl border border-slate-200 bg-slate-50 p-8 text-center text-slate-700"
      >
        Nothing found. Try a different search?
      </div>

      <!-- Static pagination (works without JS; hide during search) -->
      <nav id="pagination" class="mt-10 flex items-center justify-between">
        
        <a
          id="prevLink"
          href="https://kostyanetsky.me/notes/page-2"
          class="rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-50"
        >
          ← Earlier
        </a>
        
        <span class="w-[1px]"></span>
        
      </nav>

<script>
  // ------------------------------------------------------------
  // Hybrid mode:
  // - Default: show static HTML notes (SEO-friendly, no-JS ok).
  // - On first user search OR tag click: fetch notes.json, hide static, render results.
  // - On clear (no query AND tag=all): show static again.
  // ------------------------------------------------------------

  const metaEl = document.getElementById("pageMeta");
  const notesJsonUrl = "https://kostyanetsky.me/notes.json";

  const page = Number(metaEl.getAttribute("data-page") || "1");
  const totalPages = Number(metaEl.getAttribute("data-total-pages") || "1");
  const totalNotes = Number(metaEl.getAttribute("data-total-notes") || "0");

  const searchEl = document.getElementById("search");
  const countEl = document.getElementById("count");
  const pageInfoEl = document.getElementById("pageInfo");

  const staticNotesEl = document.getElementById("staticNotes");
  const dynamicNotesEl = document.getElementById("dynamicNotes");
  const emptyEl = document.getElementById("empty");
  const paginationEl = document.getElementById("pagination");

  let notesCache = null;
  let notesLoadPromise = null;

  // Tag filter state (chip)
  let activeTag = "all";

  const TAG_SESSION_KEY = "notesActiveTag";

  try {
    const saved = sessionStorage.getItem(TAG_SESSION_KEY);
    if (saved) activeTag = saved;
  } catch (e) {
    // no sessionStorage :|
  }

  const CHIP_CLASS_DEFAULT =
    "chip rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50";
  const CHIP_CLASS_ACTIVE =
    "chip rounded-full border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs text-slate-900 hover:bg-slate-200";

  function debounce(fn, ms = 200) {
    let t;
    return (...args) => {
      clearTimeout(t);
      t = setTimeout(() => fn(...args), ms);
    };
  }

  async function loadNotesJsonOnce() {
    if (notesCache) return notesCache;

    if (!notesLoadPromise) {
      notesLoadPromise = fetch(notesJsonUrl, { credentials: "same-origin" })
        .then((r) => {
          if (!r.ok) throw new Error(`Failed to load ${notesJsonUrl}: ${r.status}`);
          return r.json();
        })
        .then((data) => {
          // Expecting: [{ html: "<article>...</article>", text: "plain text", tags: ["work", ...] }, ...]
          notesCache = Array.isArray(data) ? data : [];
          return notesCache;
        })
        .catch((err) => {
          console.error(err);
          notesCache = [];
          return notesCache;
        });
    }

    return notesLoadPromise;
  }

  function showStaticMode() {
    dynamicNotesEl.classList.add("hidden");
    dynamicNotesEl.innerHTML = "";
    emptyEl.classList.add("hidden");

    staticNotesEl.classList.remove("hidden");
    paginationEl.classList.remove("hidden");

    countEl.textContent = String(totalNotes);
    pageInfoEl.textContent = `Страница ${page} из ${totalPages}`;
  }

  function showSearchMode() {
    staticNotesEl.classList.add("hidden");
    paginationEl.classList.add("hidden");

    dynamicNotesEl.classList.remove("hidden");
  }

  function normalizeTag(t) {
    return String(t || "")
      .trim()
      .toLowerCase();
  }

  function noteHasTag(note, tag) {
    if (!tag || tag === "all") return true;

    const want = normalizeTag(tag);

    const tags = note?.tags;
    
    return tags.map(normalizeTag).includes(want);
  }

  function filterNotes(notes, q, tag) {
    const needle = (q ?? "").trim().toLowerCase();
    const needText = needle.length > 0;
    const needTag = tag && tag !== "all";

    if (!needText && !needTag) return notes;

    return notes.filter((n) => {
      const matchesText = !needText ? true : String(n?.text ?? "").includes(needle);
      const matchesTag = !needTag ? true : noteHasTag(n, tag);
      return matchesText && matchesTag;
    });
  }

  function setActiveChipUI(tag) {
    document.querySelectorAll(".chip").forEach((x) => {
      x.className = CHIP_CLASS_DEFAULT;
      x.setAttribute("aria-pressed", "false");
    });

    const btn = Array.from(document.querySelectorAll(".chip")).find((b) => b.dataset.chip === tag);
    if (btn) {
      btn.className = CHIP_CLASS_ACTIVE;
      btn.setAttribute("aria-pressed", "true");
    }
  }

  function makeSearchLabel(q, tag) {
    const hasQ = (q || "").trim().length > 0;
    const hasTag = tag && tag !== "all";

    if (hasQ && hasTag) return `Поиск + #${normalizeTag(tag)}`;
    if (hasTag) return `Тег: #${normalizeTag(tag)}`;
    return "Поиск";
  }

  async function runSearch() {
    const q = (searchEl.value || "").trim();
    const hasQ = q.length > 0;
    const hasTag = activeTag && activeTag !== "all";

    if (!hasQ && !hasTag) {
      try { sessionStorage.removeItem(TAG_SESSION_KEY); } catch (e) {}
      showStaticMode();
      return;
    }

    showSearchMode();

    const notes = await loadNotesJsonOnce();
    const filtered = filterNotes(notes, q, activeTag);

    countEl.textContent = String(filtered.length);
    pageInfoEl.textContent = makeSearchLabel(q, activeTag);

    if (filtered.length === 0) {
      dynamicNotesEl.innerHTML = "";
      emptyEl.classList.remove("hidden");
      return;
    }

    emptyEl.classList.add("hidden");
    dynamicNotesEl.innerHTML = filtered.map((n) => n.html || "").join("\n");
  }

  // Initial render
  setActiveChipUI(activeTag);
  showStaticMode();

  // Text search handler
  searchEl.addEventListener("input", debounce(runSearch, 200));

  // Tag chips handler
  document.querySelectorAll(".chip").forEach((b) => {
    b.addEventListener("click", () => {
      activeTag = b.dataset.chip || "all";
        try {
        if (activeTag === "all") sessionStorage.removeItem(TAG_SESSION_KEY);
        else sessionStorage.setItem(TAG_SESSION_KEY, activeTag);
        } catch (e) {}      
      setActiveChipUI(activeTag);
      runSearch();
    });
  });

  // Search autorun in case search string is set (refresh / back-forward cache)
  function runSearchSoon() {
    requestAnimationFrame(() => requestAnimationFrame(() => runSearch()));
  }

  document.addEventListener("DOMContentLoaded", runSearchSoon);
  window.addEventListener("pageshow", runSearchSoon);
</script>



    </main>

    <!-- footer -->
    <footer class="mt-12 border-t border-slate-200">
      <div class="mx-auto w-full max-w-4xl px-4 py-8 text-sm text-slate-600">
        <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
          <p>Vlad Kostyanetsky</p>
          <p>
            <a class="text-slate-900 underline decoration-slate-300 hover:decoration-slate-500" href="https://kostyanetsky.me/rss.xml">RSS</a>
            <span class="mx-2 text-slate-300">·</span>
            <a class="text-slate-900 underline decoration-slate-300 hover:decoration-slate-500" href="https://github.com/vkostyanetsky">GitHub</a>
            <span class="mx-2 text-slate-300">·</span>
            <a class="text-slate-900 underline decoration-slate-300 hover:decoration-slate-500" href="https://t.me/tell_me_alisa">Telegram</a>            
          </p>
        </div>
      </div>
    </footer>

  </body>
</html>